# Maintainer: Daniel Micay <danielmicay@gmail.com>
pkgname=termite-git
_pkgname=termite
pkgver=4.22.g27ccafd
pkgver() {
    cd "$srcdir/$_pkgname"
    echo $(git describe --always | sed 's#-#.#g;s#v##')
}
pkgrel=1
pkgdesc="A simple VTE-based terminal"
arch=('i686' 'x86_64')
url="https://github.com/thestinger/termite/"
license=('GPL')
depends=('gtk3-focus-fix' 'vte3-select-text' )
makedepends=('git')
provides=(termite)
conflicts=(termite)
backup=(etc/xdg/termite.cfg)

source=($_pkgname::git+https://github.com/thestinger/termite)
md5sums=('SKIP')

build() {
  cd "$srcdir/$_pkgname"

  git submodule update --init
  make

}

package() {
  cd "$srcdir/$_pkgname"
  make PREFIX=/usr DESTDIR="$pkgdir" install
  install -Dm644 termite.cfg "$pkgdir/etc/xdg/termite.cfg"
}

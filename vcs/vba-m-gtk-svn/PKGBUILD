pkgname=vba-m-gtk-svn
pkgver=1149
pkgrel=1
pkgdesc="Gameboy Advance Emulator combining features of all VBA forks - GTK GUI"
arch=(i686 x86_64)
url="http://vba-m.ngemu.com"
license=('GPL')
groups=()
depends=('gtkmm' 'sdl' 'glibmm' 'libpng' 'zlib' 'cairo' 'mesa' 'gtkglext' 'gtkglextmm' 'libxv' 'hicolor-icon-theme' 'desktop-file-utils')
makedepends=('cmake' 'pkgconfig' 'nasm' 'subversion')
install='vba-m-gtk-svn.install'

source=('vbam::svn+https://vbam.svn.sourceforge.net/svnroot/vbam/trunk'
        'vbam_dep::svn+https://vbam.svn.sourceforge.net/svnroot/vbam/dependencies')
md5sums=('SKIP'
         'SKIP')
_svnmod=vbam

build() {
	cd ${srcdir}/$_svnmod

	cmake -DCMAKE_CXX_FLAGS=" -fpermissive" -DCMAKE_INSTALL_PREFIX="/usr" -DDATA_INSTALL_DIR:PATH="share/vbam/gtk" -DENABLE_LINK=OFF ../$_svnmod
	make
}

package() {
	cd ${srcdir}/$_svnmod
	make DESTDIR=${pkgdir} install
}
